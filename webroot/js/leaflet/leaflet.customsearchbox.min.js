function getControlHrmlContent() { return '<div id="controlbox" ><div id="boxcontainer" class="searchbox searchbox-shadow" ><form method="post"><input id="search" name="search" type="text" class="w-auto p-3"/></form></div><div class="panel-content"></div></div>' }


function generateHtmlContent(a) { for (var b = '<ul class="panel-list">', d = 0; d < a.Items.length; d++) { var c = a.Items[d], b = b + '<li class="panel-list-item"><div>'; "link" == c.type ? (b += '<span class="panel-list-item-icon ' + c.icon + '" ></span>', b += '<a href="' + c.href + '">' + c.name + "</a>") : "button" == c.type && (b += '<span class="panel-list-item-icon ' + c.icon + '" ></span>', b += '<button onclick="' + c.onclick + '">' + c.name + "</button>"); b += "</li></div>" } return b + "</ul>" }

//for Side Menu 欲しいなら
function createSearchboxControl() {
    return L.Control.extend({
        _sideBarHeaderTitle: "Sample Title",
        _sideBarMenuItems: {
            Items: [{
                type: "",
                name: "",
                href: "",
                icon: ""
            },
            {
                type: "link",
                name: "Link 2 (google.com)",
                href: "http://google.com",
                icon: "icon-cloudy"
            },
            {
                type: "button",
                name: "Button 1",
                onclick: "alert('button 1 clicked !')",
                icon: "icon-potrait"
            },
            {
                type: "button",
                name: "Button 2",
                onclick: "alert('button 2 clicked !')",
                icon: "icon-local-dining"
            },
            {
                type: "link",
                name: "Link 3 (stackoverflow.com)",
                href: "http://stackoverflow.com",
                icon: "icon-bike"
            }],
            _searchfunctionCallBack: function (a) { alert("calling the default search call back") }
        },
        options: { position: "topleft" },
        initialize: function (a) {
            L.Util.setOptions(this, a);
            a.sidebarTitleText && (this._sideBarHeaderTitle = a.sidebarTitleText); a.sidebarMenuItems && (this._sideBarMenuItems = a.sidebarMenuItems)
        }, onAdd: function (a) {
            a = L.DomUtil.create("div"); a.id = "controlcontainer"; var b = this._sideBarHeaderTitle, d = this._sideBarMenuItems, c = this._searchfunctionCallBack; $(a).html(getControlHrmlContent());
            setTimeout(function () { $("#searchbox-searchbutton").click(function () { var a = $("#searchboxinput").val(); c(a) }); $("#searchbox-menubutton").click(function () { $(".panel").toggle("slide", { direction: "left" }, 500) }); $(".panel-close-button").click(function () { $(".panel").toggle("slide", { direction: "left" }, 500) }); $(".panel-header-title").text(b); var a = generateHtmlContent(d); $(".panel-content").html(a) }, 1); L.DomEvent.disableClickPropagation(a); return a
        }
    })
};